#!/bin/bash

# URL for Pikachu data from the PokÃ©mon API
URL="https://pokeapi.co/api/v2/pokemon/pikachu"

# Make the API request and save output or error
response=$(curl -s -w "%{http_code}" -o data.json "$URL")

# Extract the HTTP status code (last 3 characters)
http_code="${response: -3}"

# Check if request was successful (status code 200)
if [ "$http_code" != "200" ]; then
  echo "Error: Failed to fetch data for Pikachu from $URL with status code $http_code" >> errors.txt
  rm -f data.json
else
  # Success, data is saved in data.json
  echo "Data for Pikachu saved in data.json"
fi
